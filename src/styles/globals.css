@tailwind utilities;

@layer utilities {
  .glass-card {
    @apply bg-white/70 backdrop-blur-md border border-white/20 shadow-sm;
  }
  
  [data-theme="dark"] .glass-card {
    @apply bg-black/30 border-white/10;
  }
}

/* Non-critical animations */
@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}

.animate-marquee {
  animation: marquee 40s linear infinite;
}

.marquee-container {
  width: 100%;
  overflow: hidden;
  position: relative;
}

.marquee-content {
  display: flex;
  animation: slideAndFade 30s linear infinite;
  white-space: nowrap;
  width: max-content;
}

.marquee-content:hover {
  animation-play-state: paused;
}

/* ====== Light Theme ====== */
:root,
[data-theme="light"] {
  --color-bg: 0 0% 100%;
  --color-primary: 216 100% 58%;
  --color-primary-fg: 0 0% 100%;
  --color-secondary: 210 40% 96%;
  --color-secondary-fg: 212 29% 84%;
  --color-card: 210 20% 98%;
  --color-muted: 210 16% 93%;
  --color-muted-fg: 215 16% 47%;
  --color-border: 210 16% 85%;
  --color-input: 210 16% 85%;
  --color-ring: 221 83% 53%;
  --color-shadow: 0 0% 0% / 0.04;
  --color-scrollbar-thumb: 210 16% 85%;
  --color-scrollbar-track: 210 20% 98%;
  --color-warning: 44 100% 50%;
  --color-warning-fg: 36 100% 50%;
  --color-error: 345 100% 56%;
  --color-error-fg: 344 100% 46%;
  --color-success: 150 96% 45%;
  --color-success-fg: 142 100% 33%;
  --radius: 0.5rem;
}

/* ====== Dark Theme ====== */
[data-theme="dark"] {
  --color-bg: 224 71% 4%;
  --color-primary:199 100% 48%;
  --color-primary-fg: 240 6% 10%;
  --color-secondary: 216 31% 17%;
  --color-secondary-fg: 215 28% 27%;
  --color-card: 240 6% 15%;
  --color-muted: 240 6% 15%;
  --color-muted-fg: 215 16% 67%;
  --color-border: 240 6% 25%;
  --color-input: 240 6% 15%;
  --color-ring: 221 83% 53%;
  --color-shadow: 0 0% 0% / 0.24;
  --color-scrollbar-thumb: 240 6% 15%;
  --color-scrollbar-track: 240 6% 10%;
  --color-warning: 44 100% 50%;
  --color-warning-fg: 36 100% 50%;
  --color-error: 345 100% 56%;
  --color-error-fg: 344 100% 46%;
  --color-success: 146 63% 50%;
  --color-success-fg: 0 0% 0%;
  --radius: 0.5rem;
  color-scheme: dark;
  background-color: hsl(var(--color-bg));
}

body[data-theme="dark"] {
  background-color: var(--color-bg);
  color: var(--color-fg);
}

/* Optional: Tailwind's dark: selector fallback for legacy classes */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --color-bg: 240 6% 10%;
    --color-primary: 210 100% 60%;
    --color-primary-fg: 240 6% 10%;
    --color-secondary: 240 6% 15%;
    --color-secondary-fg: 210 20% 98%;
    --color-card: 240 6% 15%;
    --color-muted: 240 6% 15%;
    --color-muted-fg: 215 16% 67%;
    --color-border: 240 6% 25%;
    /* ...other variables... */
    color-scheme: dark;
    background-color: hsl(var(--color-bg));
  }
}

/* ====== Theme Toggle Support ====== */
html[data-theme="dark"] body,
body[data-theme="dark"] {
  background: var(--color-bg);
  color: var(--color-fg);
}
html[data-theme="light"] body,
body[data-theme="light"] {
  background: var(--color-bg);
  color: var(--color-fg);
}

/* ====== Scrollbar Styling ====== */
::-webkit-scrollbar {
  width: 8px;
  background: var(--color-scrollbar-track);
}
::-webkit-scrollbar-thumb {
  background: var(--color-scrollbar-thumb);
  border-radius: 8px;
}
